#include <iostream> // for cout and cin
#include <string>// for string variable
#include <ctime> // for time
#include <cstdlib> // for generating random numbers
#include <limits> // for numeric_limits
using namespace std;

// Enum to represent the math operation
enum Mathtype {
  ADDITION, SUBSTRATION, MULTIPLICATION, DIVISION };

// constant value for the maximum attempts
const int MAX_ATTETMPTS = 3;
// constant value for the max level a user can get to, in the program
const int LEVEL_RANGE_CHANGE = 10;

int main() { //numbers for the math tutor
    int userAns = 0;
    int leftNum = 0;
    int rightNum = 0;
    int mathType ;
    int correctAns = 0;
    int temp;
    int mathLevel = 1;
    char mathSymbol;

    // loop until the user enters numeric data
while(! (cin >> userAns)) {
  cin.clear(); // clear the cin error flag
  cin.ignore(numeric_limits<streamsize>::max(), '\n'); // ignore the max input up to '\n'
  cout << "Invalid input!!" << endl;
  cout << "Please enter a number: ";
  } // end of the useAns while loop

srand(static_cast<unsigned int>(time(0))); // seed for the random number generator

    string userName;
    // creating a header for the program and welcoming the user
    cout << "*********************************************************" << endl;
    cout << "   __  __       _   _       _____      _   " << endl;
    cout << "  |  \\/  | __ _| |_| |__   |_   _|   _| |_ ___  _ __" << endl;
    cout << "  | |\\/| |/ _` | __| '_ \\    | || | | | __/ _ \\| '__|" << endl;
    cout << "  | |  | | (_| | |_| | | |     | || |_| | || (_) | |" << endl;
    cout << "  |_|  |_|\\__,_|\\__|_| |_|   |_| \\__,_|\\__\\___/|_|" << endl;
    cout << "*********************************************************" << endl;
    cout << "       Welcome to Sam & Gage's Silly Math Tutor!" << endl;
    cout << "*********************************************************" << endl;
    cout << endl;

    // making the intro fun with jokes
    cout << "Fun Math Facts" << endl;
    cout << "     - To the man who invented zero: Thanks for nothing. " << endl;
    cout << "     - For every complex mathematical problem, there is a simple";
    cout << " and elegant solution that is completely wrong." << endl;
    cout << "     - The only way to do math is to use your brain." << endl;
    cout << endl;

    // user will need to enter his/her name
    cout << "Please enter your name: ";
    cin >> userName;
    cout << endl;

    // welcome the user to the tutor
    cout << "Welcome " << userName << "!!" << endl;
    cout << endl;

    // generate random numbers AND math type
    leftNum = rand() % 10 + 1; 
    rightNum = rand() % 10 + 1; 
    mathType = rand() % 4 + 1;

    // using a switch statement to determine math symbol and correct answer 
    switch (mathType)  {
        case 1: // Addition
            correctAns = leftNum + rightNum; 
            mathSymbol = '+'; 
            break; 
        case 2: // Subtraction 
            if (leftNum < rightNum) { 
            temp = leftNum; 
            leftNum = rightNum; 
            rightNum = temp; 
        }
        case 3: // Multiplication 
            correctAns = leftNum * rightNum; 
            mathSymbol = '*'; 
            break; 
        case 4: // division 
            correctAns = leftNum; 
            leftNum *= rightNum; 
            mathSymbol = '/'; 
            break; 
        default: 
            std::cerr << "Error: Invalid Math Type (" << mathType << "). Please contact Support." << endl;
            return -1; 
        }

    // give them a math question to answer
    cout << "Let's test your skills!" << endl;
    cout << endl;

    cout << userName << ", " << endl;
    cout << "What is " << leftNum << " " << mathSymbol << " " << rightNum << " = " ;

       cin >> userAns;

    if (userAns == correctAns) {
        cout << "Great Job, that is correct!" << endl; }
    else { 
        cout << "Incorrect. The right answer is: " << correctAns << "." << endl; }

    // create an outro for the tutor web
    cout << endl;
    cout << "Since this was the best tutor ever," << endl; 
    cout << "feel free to stick around for the free trial!" << endl; 
    cout << endl;
    cout << endl;

    // make it fun with the end of the program
    cout << endl;
  cout << "I am so sorry but this is all the Math Tutor can accomplish at the moment. :("
       << endl;
   cout << "Version 2 is coming soon to theaters near you!!"
       << endl; // A good joke in my opinion :)
   cout << "End of program..." << endl;

return 0; // end of program
}
